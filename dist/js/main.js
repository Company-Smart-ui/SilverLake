"use strict";var body=document.querySelector("body"),html=document.querySelector("html"),header=document.querySelector(".header"),navBtn=document.querySelector(".close"),navBtnPopUp=document.querySelector(".close-pop-up"),popUp=document.querySelector(".wrap-pop-up");function closePopUp(){navBtnPopUp&&navBtnPopUp.addEventListener("click",(function(){popUp.classList.add("cancel")}))}window.onload=function(){pagescroll(),closePopUp(),openGuests(),countAdults(),countChild(),countInfants(),countPets(),window.innerWidth<=992&&openMobileSearch()};var btnGuests=document.querySelector(".btn-guests"),guests=document.querySelector(".guests"),closeGuests=document.querySelector(".close-guests"),adults=0,incrementAdults=document.querySelector("#increment-adults"),decrementAdults=document.querySelector("#decrement-adults"),child=0,incrementChild=document.querySelector("#increment-children"),decrementChild=document.querySelector("#decrement-children"),infants=0,incrementInfants=document.querySelector("#increment-infants"),decrementInfants=document.querySelector("#decrement-infants"),pets=0,incrementPets=document.querySelector("#increment-pets"),decrementPets=document.querySelector("#decrement-pets");function openGuests(){guests&&btnGuests&&(btnGuests.addEventListener("click",(function(){guests.style.display="block"})),closeGuests.addEventListener("click",(function(){guests.style.display="none";var e="",t="",n="",c="";adults>0&&(e=adults+" Adults, "),child>0&&(t=child+" Child, "),infants>0&&(n=infants+" Infants, "),pets>0&&(c=pets+" Pets"),btnGuests.innerHTML=e+t+n+c})))}function countAdults(){incrementAdults&&decrementAdults&&(incrementAdults.addEventListener("click",(function(){adults<8&&(adults++,document.getElementById("adults-value").innerHTML=adults)})),decrementAdults.addEventListener("click",(function(){adults>0&&(adults--,document.getElementById("adults-value").innerHTML=adults)})))}function countChild(){incrementChild&&decrementChild&&(incrementChild.addEventListener("click",(function(){child<8&&(child++,document.getElementById("children-value").innerHTML=child)})),decrementChild.addEventListener("click",(function(){child>0&&(child--,document.getElementById("children-value").innerHTML=child)})))}function countInfants(){incrementInfants&&decrementInfants&&(incrementInfants.addEventListener("click",(function(){infants<8&&(infants++,document.getElementById("infants-value").innerHTML=infants)})),decrementInfants.addEventListener("click",(function(){infants>0&&(infants--,document.getElementById("infants-value").innerHTML=infants)})))}function countPets(){incrementPets&&decrementPets&&(incrementPets.addEventListener("click",(function(){pets<8&&(pets++,document.getElementById("pets-value").innerHTML=pets)})),decrementPets.addEventListener("click",(function(){pets>0&&(pets--,document.getElementById("pets-value").innerHTML=pets)})))}function openMobileSearch(){var e=document.querySelector(".btn-search"),t=document.querySelector(".search"),n=document.querySelector(".btn-close");e&&(e.addEventListener("click",(function(){t.classList.add("active")})),n.addEventListener("click",(function(){t.classList.remove("active")})))}function closenav(){header.classList.remove("nav-open"),navBtn.style.marginRight="0",body.classList.remove("scroll-hidden")}function togglenav(){header.classList.toggle("nav-open"),header.classList.contains("nav-open")?(navBtn.style.marginRight=window.innerWidth-html.offsetWidth+"px",body.classList.add("scroll-hidden")):(body.classList.remove("scroll-hidden"),navBtn.style.marginRight="0")}navBtn.addEventListener("click",togglenav);var links=header.querySelectorAll("a");function pagescroll(){var e=0;window.addEventListener("scroll",(function(){e<pageYOffset&pageYOffset>header.offsetHeight&&header.classList.add("scroll"),(e=pageYOffset)<10&&header.classList.remove("scroll")}))}function addScript(e,t){localStorage.getItem(e)&&(t=1);var n=document.createElement("script");return n.async=!0,n.src=e,setTimeout((function(){body.appendChild(n),localStorage.setItem(e,!0)}),t),n}function accordionInit(e){window.addEventListener("load",(function(){var t=e.querySelectorAll(".accordion__item"),n=function(t){var n=e.querySelector(".is-open");c(t),n&&n!==t&&c(n)};t.forEach((function(e){var t=e.querySelector(".accordion__title-text");t.addEventListener("click",(function(){n(e)})),t.addEventListener("keydown",(function(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),n(e))}))}));var c=function(e){var t=e.querySelector(".accordion__body");e.classList.contains("is-open")?(t.removeAttribute("style"),e.classList.remove("is-open")):(t.style.overflow="hidden",t.style.transition="max-height 10s cubic-bezier(0.22, 0.61, 0.36, 1)",t.style.maxHeight="2000px",e.classList.add("is-open"))}}))}if(links.forEach((function(e){e.addEventListener("click",closenav)})),window.addEventListener("load",(function(){var e=window.matchMedia("(max-width: 480px)").matches,t=1,n=document.querySelector(".swiper-delay_js");if(n){var c=parseInt(n.dataset.time);c>0&&(t=1+c/5,e&&(t=c),addScript("js/swiper-min.js",t).addEventListener("load",(function(){addScript("js/slider-init.js",0)})))}})),document.querySelector(".accordion")){var accordions=document.querySelectorAll(".accordion");accordions.forEach((function(e){accordionInit(e)}))}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYm9keSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImh0bWwiLCJoZWFkZXIiLCJuYXZCdG4iLCJuYXZCdG5Qb3BVcCIsInBvcFVwIiwiY2xvc2VQb3BVcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJwYWdlc2Nyb2xsIiwib3Blbkd1ZXN0cyIsImNvdW50QWR1bHRzIiwiY291bnRDaGlsZCIsImNvdW50SW5mYW50cyIsImNvdW50UGV0cyIsImlubmVyV2lkdGgiLCJvcGVuTW9iaWxlU2VhcmNoIiwiYnRuR3Vlc3RzIiwiZ3Vlc3RzIiwiY2xvc2VHdWVzdHMiLCJhZHVsdHMiLCJpbmNyZW1lbnRBZHVsdHMiLCJkZWNyZW1lbnRBZHVsdHMiLCJjaGlsZCIsImluY3JlbWVudENoaWxkIiwiZGVjcmVtZW50Q2hpbGQiLCJpbmZhbnRzIiwiaW5jcmVtZW50SW5mYW50cyIsImRlY3JlbWVudEluZmFudHMiLCJwZXRzIiwiaW5jcmVtZW50UGV0cyIsImRlY3JlbWVudFBldHMiLCJzdHlsZSIsImRpc3BsYXkiLCJpbnB1dEFkdWx0cyIsImlucHV0Q2hpbGQiLCJpbnB1dEluZmFudHMiLCJpbnB1dFBldHMiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50QnlJZCIsImJ0blNlYXJjaCIsInNlYXJjaCIsImJ0bkNsb3NlU2VhcmNoIiwicmVtb3ZlIiwiY2xvc2VuYXYiLCJtYXJnaW5SaWdodCIsInRvZ2dsZW5hdiIsInRvZ2dsZSIsImNvbnRhaW5zIiwib2Zmc2V0V2lkdGgiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwc2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJvZmZzZXRIZWlnaHQiLCJhZGRTY3JpcHQiLCJwYXRoIiwic3RpbWVvdXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic29tZUpzIiwiY3JlYXRlRWxlbWVudCIsImFzeW5jIiwic3JjIiwic2V0VGltZW91dCIsImFwcGVuZENoaWxkIiwic2V0SXRlbSIsImFjY29yZGlvbkluaXQiLCJhY2NvcmRpb24iLCJpdGVtcyIsIm9wZW5lZEl0ZW0iLCJpdGVtIiwib3BlbmVkX2l0ZW0iLCJ0b2dnbGVfaXRlbSIsImZvckVhY2giLCJ0aXRsZSIsImV2ZW50IiwiY29kZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlQXR0cmlidXRlIiwib3ZlcmZsb3ciLCJ0cmFuc2l0aW9uIiwibWF4SGVpZ2h0IiwibGluayIsIm1lZGlhUXVlcnkyIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJzd2lwZXJMb2FkaW5nRGVsYXkiLCJzd2lwRGVsYXkiLCJhZGR0aW1lIiwicGFyc2VJbnQiLCJkYXRhc2V0IiwidGltZSIsImFjY29yZGlvbnMiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0EsSUFBTUEsS0FBTUMsU0FBU0MsY0FBYyxRQUM3QkMsS0FBS0YsU0FBU0MsY0FBYyxRQUM1QkUsT0FBT0gsU0FBU0MsY0FBYyxXQUM5QkcsT0FBT0osU0FBU0MsY0FBYyxVQUM5QkksWUFBWUwsU0FBU0MsY0FBYyxpQkFDbkNLLE1BQU1OLFNBQVNDLGNBQWMsZ0JBZ0JuQyxTQUFTTSxhQUNGRixhQUNDQSxZQUFZRyxpQkFBaUIsU0FBUyxXQUNsQ0YsTUFBTUcsVUFBVUMsSUFBSSxTQUN2QixHQUVSLENBcEJEQyxPQUFPQyxPQUFRLFdBQ2JDLGFBQ0FOLGFBQ0FPLGFBRUFDLGNBQ0FDLGFBQ0FDLGVBQ0FDLFlBQ0lQLE9BQU9RLFlBQWMsS0FDckJDLGtCQUVMLEVBVUQsSUFBTUMsVUFBWXJCLFNBQVNDLGNBQWMsZUFDbkNxQixPQUFTdEIsU0FBU0MsY0FBYyxXQUNoQ3NCLFlBQWN2QixTQUFTQyxjQUFjLGlCQUN2Q3VCLE9BQVMsRUFDUEMsZ0JBQWtCekIsU0FBU0MsY0FBYyxxQkFDekN5QixnQkFBa0IxQixTQUFTQyxjQUFjLHFCQUMzQzBCLE1BQVEsRUFDTkMsZUFBaUI1QixTQUFTQyxjQUFjLHVCQUN4QzRCLGVBQWlCN0IsU0FBU0MsY0FBYyx1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S29GLGdCQUFnQixTQUNyQlIsRUFBS2xFLFVBQVVzQyxPQUFPLGFBRXRCaEQsRUFBS3FDLE1BQU1nRCxTQUFXLFNBQ3RCckYsRUFBS3FDLE1BQU1pRCxXQUFhLG1EQUN4QnRGLEVBQUtxQyxNQUFNa0QsVUFBWSxTQUN2QlgsRUFBS2xFLFVBQVVDLElBQUksV0FFdEIsQ0FDRixHQUNGLENBRUQsR0E5RkY0QyxNQUFNd0IsU0FBUSxTQUFBUyxHQUNaQSxFQUFLL0UsaUJBQWlCLFFBQVN3QyxTQUNoQyxJQStCRHJDLE9BQU9ILGlCQUFpQixRQUFRLFdBQ2hDLElBQU1nRixFQUFjN0UsT0FBTzhFLFdBQVcsc0JBQXNCQyxRQUN4REMsRUFBbUIsRUFDakJDLEVBQVk1RixTQUFTQyxjQUFjLG9CQUN6QyxHQUFHMkYsRUFBVSxDQUNYLElBQU1DLEVBQVNDLFNBQVNGLEVBQVVHLFFBQVFDLE1BQ3ZDSCxFQUFRLElBQ1RGLEVBQW1CLEVBQUdFLEVBQVEsRUFDMUJMLElBQ0ZHLEVBQW9CRSxHQUVwQmxDLFVBQVUsbUJBQXFCZ0MsR0FBb0JuRixpQkFBaUIsUUFBTyxXQUN6RW1ELFVBQVUsb0JBQXNCLEVBQ2pDLElBR04sQ0FDQSxJQTRDSzNELFNBQVNDLGNBQWMsY0FBZSxDQUN4QyxJQUFNZ0csV0FBYWpHLFNBQVN1RCxpQkFBaUIsY0FDN0MwQyxXQUFXbkIsU0FBUSxTQUFBTixHQUNqQkQsY0FBY0MsRUFDZixHQUNGIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxuY29uc3QgYm9keSA9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5jb25zdCBodG1sPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpO1xuY29uc3QgaGVhZGVyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xuY29uc3QgbmF2QnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIik7XG5jb25zdCBuYXZCdG5Qb3BVcD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLXBvcC11cFwiKTtcbmNvbnN0IHBvcFVwPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud3JhcC1wb3AtdXBcIik7XG5cbndpbmRvdy5vbmxvYWQ9IGZ1bmN0aW9uKCl7XG4gIHBhZ2VzY3JvbGwoKTtcbiAgY2xvc2VQb3BVcCgpO1xuICBvcGVuR3Vlc3RzKCk7XG5cbiAgY291bnRBZHVsdHMoKTtcbiAgY291bnRDaGlsZCgpO1xuICBjb3VudEluZmFudHMoKTtcbiAgY291bnRQZXRzKCk7XG4gIGlmKCB3aW5kb3cuaW5uZXJXaWR0aCA8PSA5OTIgKXtcbiAgICAgIG9wZW5Nb2JpbGVTZWFyY2goKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY2xvc2VQb3BVcCgpe1xuICAgIGlmKG5hdkJ0blBvcFVwKSB7XG4gICAgICAgIG5hdkJ0blBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHBvcFVwLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbCcpO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuY29uc3QgYnRuR3Vlc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tZ3Vlc3RzXCIpO1xuY29uc3QgZ3Vlc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ndWVzdHNcIik7XG5jb25zdCBjbG9zZUd1ZXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2UtZ3Vlc3RzXCIpO1xudmFyIGFkdWx0cyA9IDA7XG5jb25zdCBpbmNyZW1lbnRBZHVsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luY3JlbWVudC1hZHVsdHNcIik7XG5jb25zdCBkZWNyZW1lbnRBZHVsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlY3JlbWVudC1hZHVsdHNcIik7XG52YXIgY2hpbGQgPSAwO1xuY29uc3QgaW5jcmVtZW50Q2hpbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luY3JlbWVudC1jaGlsZHJlblwiKTtcbmNvbnN0IGRlY3JlbWVudENoaWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWNyZW1lbnQtY2hpbGRyZW5cIik7XG52YXIgaW5mYW50cyA9IDA7XG5jb25zdCBpbmNyZW1lbnRJbmZhbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbmNyZW1lbnQtaW5mYW50c1wiKTtcbmNvbnN0IGRlY3JlbWVudEluZmFudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlY3JlbWVudC1pbmZhbnRzXCIpO1xudmFyIHBldHMgPSAwO1xuY29uc3QgaW5jcmVtZW50UGV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5jcmVtZW50LXBldHNcIik7XG5jb25zdCBkZWNyZW1lbnRQZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWNyZW1lbnQtcGV0c1wiKTtcblxuZnVuY3Rpb24gb3Blbkd1ZXN0cygpe1xuICAgIGlmKGd1ZXN0cyAmJiBidG5HdWVzdHMpIHtcbiAgICAgICAgYnRuR3Vlc3RzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGd1ZXN0cy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNsb3NlR3Vlc3RzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGd1ZXN0cy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICAgICAgdmFyIGlucHV0QWR1bHRzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBpbnB1dENoaWxkID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBpbnB1dEluZmFudHMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGlucHV0UGV0cyA9IFwiXCI7XG4gICAgICAgICAgICBpZihhZHVsdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRBZHVsdHMgPSBhZHVsdHMgKyBcIiBBZHVsdHMsIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY2hpbGQgPiAwKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRDaGlsZCA9IGNoaWxkICsgXCIgQ2hpbGQsIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaW5mYW50cyA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnB1dEluZmFudHMgPSBpbmZhbnRzICsgXCIgSW5mYW50cywgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwZXRzID4gMCkge1xuICAgICAgICAgICAgICAgIGlucHV0UGV0cyA9IHBldHMgKyBcIiBQZXRzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidG5HdWVzdHMuaW5uZXJIVE1MID0gaW5wdXRBZHVsdHMgKyBpbnB1dENoaWxkICsgaW5wdXRJbmZhbnRzICsgaW5wdXRQZXRzO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvdW50QWR1bHRzKCkge1xuICAgIGlmKGluY3JlbWVudEFkdWx0cyAmJiBkZWNyZW1lbnRBZHVsdHMpe1xuICAgICAgICBpbmNyZW1lbnRBZHVsdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoYWR1bHRzIDwgOCkge1xuICAgICAgICAgICAgICAgIGFkdWx0cysrO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR1bHRzLXZhbHVlXCIpLmlubmVySFRNTCA9IGFkdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlY3JlbWVudEFkdWx0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihhZHVsdHMgPiAwKXtcbiAgICAgICAgICAgICAgICBhZHVsdHMtLTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdWx0cy12YWx1ZVwiKS5pbm5lckhUTUwgPSBhZHVsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvdW50Q2hpbGQoKSB7XG4gICAgaWYoaW5jcmVtZW50Q2hpbGQgJiYgZGVjcmVtZW50Q2hpbGQpe1xuICAgICAgICBpbmNyZW1lbnRDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihjaGlsZCA8IDgpIHtcbiAgICAgICAgICAgICAgICBjaGlsZCsrO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hpbGRyZW4tdmFsdWVcIikuaW5uZXJIVE1MID0gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWNyZW1lbnRDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihjaGlsZCA+IDApe1xuICAgICAgICAgICAgICAgIGNoaWxkLS07XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGlsZHJlbi12YWx1ZVwiKS5pbm5lckhUTUwgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY291bnRJbmZhbnRzKCkge1xuICAgIGlmKGluY3JlbWVudEluZmFudHMgJiYgZGVjcmVtZW50SW5mYW50cyl7XG4gICAgICAgIGluY3JlbWVudEluZmFudHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoaW5mYW50cyA8IDgpIHtcbiAgICAgICAgICAgICAgICBpbmZhbnRzKys7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmZhbnRzLXZhbHVlXCIpLmlubmVySFRNTCA9IGluZmFudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWNyZW1lbnRJbmZhbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKGluZmFudHMgPiAwKXtcbiAgICAgICAgICAgICAgICBpbmZhbnRzLS07XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmZhbnRzLXZhbHVlXCIpLmlubmVySFRNTCA9IGluZmFudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvdW50UGV0cygpIHtcbiAgICBpZihpbmNyZW1lbnRQZXRzICYmIGRlY3JlbWVudFBldHMpe1xuICAgICAgICBpbmNyZW1lbnRQZXRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKHBldHMgPCA4KSB7XG4gICAgICAgICAgICAgICAgcGV0cysrO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGV0cy12YWx1ZVwiKS5pbm5lckhUTUwgPSBwZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVjcmVtZW50UGV0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihwZXRzID4gMCl7XG4gICAgICAgICAgICAgICAgcGV0cy0tO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGV0cy12YWx1ZVwiKS5pbm5lckhUTUwgPSBwZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBvcGVuTW9iaWxlU2VhcmNoKCl7XG4gICAgY29uc3QgYnRuU2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tc2VhcmNoXCIpO1xuICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoXCIpO1xuICAgIGNvbnN0IGJ0bkNsb3NlU2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tY2xvc2VcIik7XG4gICAgaWYoYnRuU2VhcmNoKXtcbiAgICAgICAgYnRuU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VhcmNoLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9KVxuICAgICAgICBidG5DbG9zZVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlYXJjaC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cblxuXG4gXG4gICAgICBmdW5jdGlvbiBjbG9zZW5hdigpIHtcbiAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtb3BlblwiKTtcbiAgbmF2QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XG4gIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLWhpZGRlbicpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVuYXYoKSB7XG4gIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LW9wZW5cIik7XG4gIGlmIChoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2LW9wZW5cIikpIHtcbiAgICBuYXZCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGh0bWwub2Zmc2V0V2lkdGggKyBcInB4XCI7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKCdzY3JvbGwtaGlkZGVuJyk7XG4gIH0gZWxzZSB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtaGlkZGVuJyk7XG4gICAgbmF2QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XG4gIH1cbn1cbm5hdkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlbmF2KTtcbmNvbnN0IGxpbmtzID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbmxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZW5hdik7XG59KTsgXG4gICAgICAgZnVuY3Rpb24gcGFnZXNjcm9sbCgpe1xuICAgIGxldCBwc2Nyb2xsID0gMDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oKSB7IFxuICAgICAgICBpZiAocHNjcm9sbDxwYWdlWU9mZnNldCZwYWdlWU9mZnNldD5oZWFkZXIub2Zmc2V0SGVpZ2h0KXtcbiAgICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbCcpO1xuICAgICAgICB9XG4gICAgICAgIHBzY3JvbGw9cGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgaWYocHNjcm9sbCA8IDEwKSB7XG4gICAgICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiAgXG4gICAgICBmdW5jdGlvbiBhZGRTY3JpcHQocGF0aCAsc3RpbWVvdXQpeyAgXG4gICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0ocGF0aCkpIHtcbiAgICAgIHN0aW1lb3V0PTE7IFxuICAgIH0gIFxuICAgIGNvbnN0IHNvbWVKcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBcbiAgICBzb21lSnMuYXN5bmM9dHJ1ZTtcbiAgICBzb21lSnMuc3JjPXBhdGg7ICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc29tZUpzKTsgICBcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwYXRoICwgdHJ1ZSk7XG4gIH0sIHN0aW1lb3V0KTsgICAgIFxuICAgICAgcmV0dXJuICggXG4gICAgICAgICAgc29tZUpzIFxuICAgICAgKSBcbn0gICBcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpeyAgIFxuY29uc3QgbWVkaWFRdWVyeTIgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNDgwcHgpJykubWF0Y2hlczsgIFxubGV0IHN3aXBlckxvYWRpbmdEZWxheT0xOyBcbmNvbnN0IHN3aXBEZWxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItZGVsYXlfanMnKTsgXG5pZihzd2lwRGVsYXkpeyBcbiAgY29uc3QgYWRkdGltZT0gcGFyc2VJbnQoc3dpcERlbGF5LmRhdGFzZXQudGltZSk7XG4gIGlmKGFkZHRpbWU+MCl7XG4gICAgc3dpcGVyTG9hZGluZ0RlbGF5PTErIGFkZHRpbWUvNTtcbiAgICBpZiAobWVkaWFRdWVyeTIpIHtcbiAgICAgIHN3aXBlckxvYWRpbmdEZWxheSA9YWRkdGltZTtcbiAgICB9IFxuICAgICAgYWRkU2NyaXB0KCdqcy9zd2lwZXItbWluLmpzJyAsIHN3aXBlckxvYWRpbmdEZWxheSkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsKCk9PntcbiAgICAgICAgYWRkU2NyaXB0KCdqcy9zbGlkZXItaW5pdC5qcycgLCAwKTtcbiAgICAgIH0pIFxuICAgICAgLy9zd2lwZXIgbG9hZGluZyBvbmx5IGlmIHN3aXBlciBkZWxheSBkYXRhdGltZSA+IDBcbiAgfSAgXG59ICAgXG59KVxuICAgICAgXG5mdW5jdGlvbiBhY2NvcmRpb25Jbml0KGFjY29yZGlvbikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW1zID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWNjb3JkaW9uX19pdGVtXCIpOyBcbiAgICAgIGNvbnN0IG9wZW5lZEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVuZWRfaXRlbSA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIik7IFxuICAgICAgICB0b2dnbGVfaXRlbShpdGVtKTsgXG4gICAgICAgIGlmIChvcGVuZWRfaXRlbSAmJiBvcGVuZWRfaXRlbSAhPT0gaXRlbSkge1xuICAgICAgICAgIHRvZ2dsZV9pdGVtKG9wZW5lZF9pdGVtKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fdGl0bGUtdGV4dFwiKTsgXG4gICAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoICkgPT4ge1xuICAgICAgICAgIG9wZW5lZEl0ZW0oaXRlbSk7XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7IFxuICAgICAgICAgIGlmIChldmVudC5jb2RlPT09J0VudGVyJ3x8ZXZlbnQuY29kZT09PSdTcGFjZScpeyBcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgICAgICAgb3BlbmVkSXRlbShpdGVtKTtcbiAgICAgICAgICB9IFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIGNvbnN0IHRvZ2dsZV9pdGVtID0gKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgYm9keSA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5hY2NvcmRpb25fX2JvZHlcIik7XG4gIFxuICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1vcGVuXCIpKSB7XG4gICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1vcGVuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgICBib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAnbWF4LWhlaWdodCAxMHMgY3ViaWMtYmV6aWVyKDAuMjIsIDAuNjEsIDAuMzYsIDEpJztcbiAgICAgICAgICBib2R5LnN0eWxlLm1heEhlaWdodCA9ICcyMDAwcHgnO1xuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvblwiKSkgeyBcbiAgICBjb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2NvcmRpb25cIik7XG4gICAgYWNjb3JkaW9ucy5mb3JFYWNoKGFjY29yZGlvbiA9PiB7XG4gICAgICBhY2NvcmRpb25Jbml0KGFjY29yZGlvbik7XG4gICAgfSk7IFxuICB9XG5cbiBcblxuXG5cbiJdfQ==
