"use strict";var body=document.querySelector("body"),html=document.querySelector("html"),header=document.querySelector(".header"),navBtn=document.querySelector(".close"),navBtnPopUp=document.querySelector(".close-pop-up"),popUp=document.querySelector(".wrap-pop-up");function closePopUp(){navBtnPopUp&&navBtnPopUp.addEventListener("click",(function(){popUp.classList.add("cancel")}))}window.onload=function(){pagescroll(),closePopUp(),openGuests(),countAdults(),countChild(),countInfants(),countPets(),window.innerWidth<=992&&openMobileSearch()};var btnGuests=document.querySelector(".btn-guests"),guests=document.querySelector(".guests"),closeGuests=document.querySelector(".close-guests"),adults=0,incrementAdults=document.querySelector("#increment-adults"),decrementAdults=document.querySelector("#decrement-adults"),child=0,incrementChild=document.querySelector("#increment-children"),decrementChild=document.querySelector("#decrement-children"),infants=0,incrementInfants=document.querySelector("#increment-infants"),decrementInfants=document.querySelector("#decrement-infants"),pets=0,incrementPets=document.querySelector("#increment-pets"),decrementPets=document.querySelector("#decrement-pets");function openGuests(){guests&&btnGuests&&(btnGuests.addEventListener("click",(function(){guests.style.display="block"})),closeGuests.addEventListener("click",(function(){guests.style.display="none";var e="",t="",n="",c="";adults>0&&(e=adults+" Adults, "),child>0&&(t=child+" Child, "),infants>0&&(n=infants+" Infants, "),pets>0&&(c=pets+" Pets"),btnGuests.innerHTML=e+t+n+c})))}function countAdults(){incrementAdults&&decrementAdults&&(incrementAdults.addEventListener("click",(function(){adults<8&&(adults++,document.getElementById("adults-value").innerHTML=adults)})),decrementAdults.addEventListener("click",(function(){adults>0&&(adults--,document.getElementById("adults-value").innerHTML=adults)})))}function countChild(){incrementChild&&decrementChild&&(incrementChild.addEventListener("click",(function(){child<8&&(child++,document.getElementById("children-value").innerHTML=child)})),decrementChild.addEventListener("click",(function(){child>0&&(child--,document.getElementById("children-value").innerHTML=child)})))}function countInfants(){incrementInfants&&decrementInfants&&(incrementInfants.addEventListener("click",(function(){infants<8&&(infants++,document.getElementById("infants-value").innerHTML=infants)})),decrementInfants.addEventListener("click",(function(){infants>0&&(infants--,document.getElementById("infants-value").innerHTML=infants)})))}function countPets(){incrementPets&&decrementPets&&(incrementPets.addEventListener("click",(function(){pets<8&&(pets++,document.getElementById("pets-value").innerHTML=pets)})),decrementPets.addEventListener("click",(function(){pets>0&&(pets--,document.getElementById("pets-value").innerHTML=pets)})))}function openMobileSearch(){var e=document.querySelector(".btn-search"),t=document.querySelector(".search"),n=document.querySelector(".btn-close");e&&(e.addEventListener("click",(function(){t.classList.add("active")})),n.addEventListener("click",(function(){t.classList.remove("active")})))}var forms=document.getElementsByClassName("needs-validation");function closenav(){header.classList.remove("nav-open"),navBtn.style.marginRight="0",body.classList.remove("scroll-hidden")}function togglenav(){header.classList.toggle("nav-open"),header.classList.contains("nav-open")?(navBtn.style.marginRight=window.innerWidth-html.offsetWidth+"px",body.classList.add("scroll-hidden")):(body.classList.remove("scroll-hidden"),navBtn.style.marginRight="0")}forms&&window.addEventListener("load",(function(){Array.prototype.filter.call(forms,(function(e){e.addEventListener("submit",(function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))}),!1),navBtn.addEventListener("click",togglenav);var links=header.querySelectorAll("a");function pagescroll(){var e=0;document.querySelector(".fixed")||window.addEventListener("scroll",(function(){e>40&&header.classList.add("scroll"),(e=pageYOffset)<40&&header.classList.remove("scroll")}))}function addScript(e,t){localStorage.getItem(e)&&(t=1);var n=document.createElement("script");return n.async=!0,n.src=e,setTimeout((function(){body.appendChild(n),localStorage.setItem(e,!0)}),t),n}function accordionInit(e){window.addEventListener("load",(function(){var t=e.querySelectorAll(".accordion__item"),n=function(t){var n=e.querySelector(".is-open");c(t),n&&n!==t&&c(n)};t.forEach((function(e){var t=e.querySelector(".accordion__title-text");t.addEventListener("click",(function(){n(e)})),t.addEventListener("keydown",(function(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),n(e))}))}));var c=function(e){var t=e.querySelector(".accordion__body");e.classList.contains("is-open")?(t.removeAttribute("style"),e.classList.remove("is-open")):(t.style.overflow="hidden",t.style.transition="max-height 10s cubic-bezier(0.22, 0.61, 0.36, 1)",t.style.maxHeight="2000px",e.classList.add("is-open"))}}))}if(links.forEach((function(e){e.addEventListener("click",closenav)})),window.addEventListener("load",(function(){var e=window.matchMedia("(max-width: 480px)").matches,t=1,n=document.querySelector(".swiper-delay_js");if(n){var c=parseInt(n.dataset.time);c>0&&(t=1+c/5,e&&(t=c),addScript("js/swiper-min.js",t).addEventListener("load",(function(){addScript("js/slider-init.js",0)})))}})),document.querySelector(".accordion")){var accordions=document.querySelectorAll(".accordion");accordions.forEach((function(e){accordionInit(e)}))}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYm9keSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImh0bWwiLCJoZWFkZXIiLCJuYXZCdG4iLCJuYXZCdG5Qb3BVcCIsInBvcFVwIiwiY2xvc2VQb3BVcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJwYWdlc2Nyb2xsIiwib3Blbkd1ZXN0cyIsImNvdW50QWR1bHRzIiwiY291bnRDaGlsZCIsImNvdW50SW5mYW50cyIsImNvdW50UGV0cyIsImlubmVyV2lkdGgiLCJvcGVuTW9iaWxlU2VhcmNoIiwiYnRuR3Vlc3RzIiwiZ3Vlc3RzIiwiY2xvc2VHdWVzdHMiLCJhZHVsdHMiLCJpbmNyZW1lbnRBZHVsdHMiLCJkZWNyZW1lbnRBZHVsdHMiLCJjaGlsZCIsImluY3JlbWVudENoaWxkIiwiZGVjcmVtZW50Q2hpbGQiLCJpbmZhbnRzIiwiaW5jcmVtZW50SW5mYW50cyIsImRlY3JlbWVudEluZmFudHMiLCJwZXRzIiwiaW5jcmVtZW50UGV0cyIsImRlY3JlbWVudFBldHMiLCJzdHlsZSIsImRpc3BsYXkiLCJpbnB1dEFkdWx0cyIsImlucHV0Q2hpbGQiLCJpbnB1dEluZmFudHMiLCJpbnB1dFBldHMiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50QnlJZCIsImJ0blNlYXJjaCIsInNlYXJjaCIsImJ0bkNsb3NlU2VhcmNoIiwicmVtb3ZlIiwiZm9ybXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2xvc2VuYXYiLCJtYXJnaW5SaWdodCIsInRvZ2dsZW5hdiIsInRvZ2dsZSIsImNvbnRhaW5zIiwib2Zmc2V0V2lkdGgiLCJBcnJheSIsInByb3RvdHlwZSIsImZpbHRlciIsImNhbGwiLCJmb3JtIiwiZXZlbnQiLCJjaGVja1ZhbGlkaXR5IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwc2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJhZGRTY3JpcHQiLCJwYXRoIiwic3RpbWVvdXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic29tZUpzIiwiY3JlYXRlRWxlbWVudCIsImFzeW5jIiwic3JjIiwic2V0VGltZW91dCIsImFwcGVuZENoaWxkIiwic2V0SXRlbSIsImFjY29yZGlvbkluaXQiLCJhY2NvcmRpb24iLCJpdGVtcyIsIm9wZW5lZEl0ZW0iLCJpdGVtIiwib3BlbmVkX2l0ZW0iLCJ0b2dnbGVfaXRlbSIsImZvckVhY2giLCJ0aXRsZSIsImNvZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJvdmVyZmxvdyIsInRyYW5zaXRpb24iLCJtYXhIZWlnaHQiLCJsaW5rIiwibWVkaWFRdWVyeTIiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInN3aXBlckxvYWRpbmdEZWxheSIsInN3aXBEZWxheSIsImFkZHRpbWUiLCJwYXJzZUludCIsImRhdGFzZXQiLCJ0aW1lIiwiYWNjb3JkaW9ucyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFDQSxJQUFNQSxLQUFNQyxTQUFTQyxjQUFjLFFBQzdCQyxLQUFLRixTQUFTQyxjQUFjLFFBQzVCRSxPQUFPSCxTQUFTQyxjQUFjLFdBQzlCRyxPQUFPSixTQUFTQyxjQUFjLFVBQzlCSSxZQUFZTCxTQUFTQyxjQUFjLGlCQUNuQ0ssTUFBTU4sU0FBU0MsY0FBYyxnQkFnQm5DLFNBQVNNLGFBQ0ZGLGFBQ0NBLFlBQVlHLGlCQUFpQixTQUFTLFdBQ2xDRixNQUFNRyxVQUFVQyxJQUFJLFNBQ3ZCLEdBRVIsQ0FwQkRDLE9BQU9DLE9BQVEsV0FDYkMsYUFDQU4sYUFDQU8sYUFFQUMsY0FDQUMsYUFDQUMsZUFDQUMsWUFDSVAsT0FBT1EsWUFBYyxLQUNyQkMsa0JBRUwsRUFVRCxJQUFNQyxVQUFZckIsU0FBU0MsY0FBYyxlQUNuQ3FCLE9BQVN0QixTQUFTQyxjQUFjLFdBQ2hDc0IsWUFBY3ZCLFNBQVNDLGNBQWMsaUJBQ3ZDdUIsT0FBUyxFQUNQQyxnQkFBa0J6QixTQUFTQyxjQUFjLHFC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LGlCQUFpQixjQUM3Q3VDLFdBQVdqQixTQUFRLFNBQUFOLEdBQ2pCRCxjQUFjQyxFQUNmLEdBQ0YiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiXG5jb25zdCBib2R5ID1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbmNvbnN0IGh0bWw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIik7XG5jb25zdCBoZWFkZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG5jb25zdCBuYXZCdG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcbmNvbnN0IG5hdkJ0blBvcFVwPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2UtcG9wLXVwXCIpO1xuY29uc3QgcG9wVXA9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53cmFwLXBvcC11cFwiKTtcblxud2luZG93Lm9ubG9hZD0gZnVuY3Rpb24oKXtcbiAgcGFnZXNjcm9sbCgpO1xuICBjbG9zZVBvcFVwKCk7XG4gIG9wZW5HdWVzdHMoKTtcblxuICBjb3VudEFkdWx0cygpO1xuICBjb3VudENoaWxkKCk7XG4gIGNvdW50SW5mYW50cygpO1xuICBjb3VudFBldHMoKTtcbiAgaWYoIHdpbmRvdy5pbm5lcldpZHRoIDw9IDk5MiApe1xuICAgICAgb3Blbk1vYmlsZVNlYXJjaCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjbG9zZVBvcFVwKCl7XG4gICAgaWYobmF2QnRuUG9wVXApIHtcbiAgICAgICAgbmF2QnRuUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcG9wVXAuY2xhc3NMaXN0LmFkZCgnY2FuY2VsJyk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5jb25zdCBidG5HdWVzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1ndWVzdHNcIik7XG5jb25zdCBndWVzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmd1ZXN0c1wiKTtcbmNvbnN0IGNsb3NlR3Vlc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1ndWVzdHNcIik7XG52YXIgYWR1bHRzID0gMDtcbmNvbnN0IGluY3JlbWVudEFkdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5jcmVtZW50LWFkdWx0c1wiKTtcbmNvbnN0IGRlY3JlbWVudEFkdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVjcmVtZW50LWFkdWx0c1wiKTtcbnZhciBjaGlsZCA9IDA7XG5jb25zdCBpbmNyZW1lbnRDaGlsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5jcmVtZW50LWNoaWxkcmVuXCIpO1xuY29uc3QgZGVjcmVtZW50Q2hpbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlY3JlbWVudC1jaGlsZHJlblwiKTtcbnZhciBpbmZhbnRzID0gMDtcbmNvbnN0IGluY3JlbWVudEluZmFudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luY3JlbWVudC1pbmZhbnRzXCIpO1xuY29uc3QgZGVjcmVtZW50SW5mYW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVjcmVtZW50LWluZmFudHNcIik7XG52YXIgcGV0cyA9IDA7XG5jb25zdCBpbmNyZW1lbnRQZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbmNyZW1lbnQtcGV0c1wiKTtcbmNvbnN0IGRlY3JlbWVudFBldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlY3JlbWVudC1wZXRzXCIpO1xuXG5mdW5jdGlvbiBvcGVuR3Vlc3RzKCl7XG4gICAgaWYoZ3Vlc3RzICYmIGJ0bkd1ZXN0cykge1xuICAgICAgICBidG5HdWVzdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZ3Vlc3RzLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VHdWVzdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZ3Vlc3RzLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICB2YXIgaW5wdXRBZHVsdHMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGlucHV0Q2hpbGQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGlucHV0SW5mYW50cyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgaW5wdXRQZXRzID0gXCJcIjtcbiAgICAgICAgICAgIGlmKGFkdWx0cyA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnB1dEFkdWx0cyA9IGFkdWx0cyArIFwiIEFkdWx0cywgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjaGlsZCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnB1dENoaWxkID0gY2hpbGQgKyBcIiBDaGlsZCwgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihpbmZhbnRzID4gMCkge1xuICAgICAgICAgICAgICAgIGlucHV0SW5mYW50cyA9IGluZmFudHMgKyBcIiBJbmZhbnRzLCBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHBldHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRQZXRzID0gcGV0cyArIFwiIFBldHNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ0bkd1ZXN0cy5pbm5lckhUTUwgPSBpbnB1dEFkdWx0cyArIGlucHV0Q2hpbGQgKyBpbnB1dEluZmFudHMgKyBpbnB1dFBldHM7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY291bnRBZHVsdHMoKSB7XG4gICAgaWYoaW5jcmVtZW50QWR1bHRzICYmIGRlY3JlbWVudEFkdWx0cyl7XG4gICAgICAgIGluY3JlbWVudEFkdWx0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihhZHVsdHMgPCA4KSB7XG4gICAgICAgICAgICAgICAgYWR1bHRzKys7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZHVsdHMtdmFsdWVcIikuaW5uZXJIVE1MID0gYWR1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVjcmVtZW50QWR1bHRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKGFkdWx0cyA+IDApe1xuICAgICAgICAgICAgICAgIGFkdWx0cy0tO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR1bHRzLXZhbHVlXCIpLmlubmVySFRNTCA9IGFkdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY291bnRDaGlsZCgpIHtcbiAgICBpZihpbmNyZW1lbnRDaGlsZCAmJiBkZWNyZW1lbnRDaGlsZCl7XG4gICAgICAgIGluY3JlbWVudENoaWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKGNoaWxkIDwgOCkge1xuICAgICAgICAgICAgICAgIGNoaWxkKys7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGlsZHJlbi12YWx1ZVwiKS5pbm5lckhUTUwgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlY3JlbWVudENoaWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKGNoaWxkID4gMCl7XG4gICAgICAgICAgICAgICAgY2hpbGQtLTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoaWxkcmVuLXZhbHVlXCIpLmlubmVySFRNTCA9IGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb3VudEluZmFudHMoKSB7XG4gICAgaWYoaW5jcmVtZW50SW5mYW50cyAmJiBkZWNyZW1lbnRJbmZhbnRzKXtcbiAgICAgICAgaW5jcmVtZW50SW5mYW50cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihpbmZhbnRzIDwgOCkge1xuICAgICAgICAgICAgICAgIGluZmFudHMrKztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluZmFudHMtdmFsdWVcIikuaW5uZXJIVE1MID0gaW5mYW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlY3JlbWVudEluZmFudHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoaW5mYW50cyA+IDApe1xuICAgICAgICAgICAgICAgIGluZmFudHMtLTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluZmFudHMtdmFsdWVcIikuaW5uZXJIVE1MID0gaW5mYW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY291bnRQZXRzKCkge1xuICAgIGlmKGluY3JlbWVudFBldHMgJiYgZGVjcmVtZW50UGV0cyl7XG4gICAgICAgIGluY3JlbWVudFBldHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYocGV0cyA8IDgpIHtcbiAgICAgICAgICAgICAgICBwZXRzKys7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXRzLXZhbHVlXCIpLmlubmVySFRNTCA9IHBldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWNyZW1lbnRQZXRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKHBldHMgPiAwKXtcbiAgICAgICAgICAgICAgICBwZXRzLS07XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXRzLXZhbHVlXCIpLmlubmVySFRNTCA9IHBldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9wZW5Nb2JpbGVTZWFyY2goKXtcbiAgICBjb25zdCBidG5TZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zZWFyY2hcIik7XG4gICAgY29uc3Qgc2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2hcIik7XG4gICAgY29uc3QgYnRuQ2xvc2VTZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1jbG9zZVwiKTtcbiAgICBpZihidG5TZWFyY2gpe1xuICAgICAgICBidG5TZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWFyY2guY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH0pXG4gICAgICAgIGJ0bkNsb3NlU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VhcmNoLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxudmFyIGZvcm1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVlZHMtdmFsaWRhdGlvbicpO1xuKGZ1bmN0aW9uKCkge1xuICAgIGlmKGZvcm1zKXtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChmb3JtcywgZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnd2FzLXZhbGlkYXRlZCcpO1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxufSkoKTtcblxuXG4gXG4gICAgICBmdW5jdGlvbiBjbG9zZW5hdigpIHtcbiAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtb3BlblwiKTtcbiAgbmF2QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XG4gIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLWhpZGRlbicpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVuYXYoKSB7XG4gIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LW9wZW5cIik7XG4gIGlmIChoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2LW9wZW5cIikpIHtcbiAgICBuYXZCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGh0bWwub2Zmc2V0V2lkdGggKyBcInB4XCI7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKCdzY3JvbGwtaGlkZGVuJyk7XG4gIH0gZWxzZSB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwtaGlkZGVuJyk7XG4gICAgbmF2QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XG4gIH1cbn1cbm5hdkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlbmF2KTtcbmNvbnN0IGxpbmtzID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbmxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZW5hdik7XG59KTsgXG4gICAgICAgZnVuY3Rpb24gcGFnZXNjcm9sbCgpe1xuICAgIGxldCBwc2Nyb2xsID0gMDtcbiAgICBjb25zdCBmaXhlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZml4ZWRcIik7XG4gICAgaWYoIWZpeGVkKXtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHBzY3JvbGwgPiA0MCl7XG4gICAgICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHNjcm9sbD1wYWdlWU9mZnNldDtcbiAgICAgICAgICAgIGlmKHBzY3JvbGwgPCA0MCkge1xuICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuICBcbiAgICAgIGZ1bmN0aW9uIGFkZFNjcmlwdChwYXRoICxzdGltZW91dCl7ICBcbiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwYXRoKSkge1xuICAgICAgc3RpbWVvdXQ9MTsgXG4gICAgfSAgXG4gICAgY29uc3Qgc29tZUpzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IFxuICAgIHNvbWVKcy5hc3luYz10cnVlO1xuICAgIHNvbWVKcy5zcmM9cGF0aDsgIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYm9keS5hcHBlbmRDaGlsZChzb21lSnMpOyAgIFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhdGggLCB0cnVlKTtcbiAgfSwgc3RpbWVvdXQpOyAgICAgXG4gICAgICByZXR1cm4gKCBcbiAgICAgICAgICBzb21lSnMgXG4gICAgICApIFxufSAgIFxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCl7ICAgXG5jb25zdCBtZWRpYVF1ZXJ5MiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA0ODBweCknKS5tYXRjaGVzOyAgXG5sZXQgc3dpcGVyTG9hZGluZ0RlbGF5PTE7IFxuY29uc3Qgc3dpcERlbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1kZWxheV9qcycpOyBcbmlmKHN3aXBEZWxheSl7IFxuICBjb25zdCBhZGR0aW1lPSBwYXJzZUludChzd2lwRGVsYXkuZGF0YXNldC50aW1lKTtcbiAgaWYoYWRkdGltZT4wKXtcbiAgICBzd2lwZXJMb2FkaW5nRGVsYXk9MSsgYWRkdGltZS81O1xuICAgIGlmIChtZWRpYVF1ZXJ5Mikge1xuICAgICAgc3dpcGVyTG9hZGluZ0RlbGF5ID1hZGR0aW1lO1xuICAgIH0gXG4gICAgICBhZGRTY3JpcHQoJ2pzL3N3aXBlci1taW4uanMnICwgc3dpcGVyTG9hZGluZ0RlbGF5KS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e1xuICAgICAgICBhZGRTY3JpcHQoJ2pzL3NsaWRlci1pbml0LmpzJyAsIDApO1xuICAgICAgfSkgXG4gICAgICAvL3N3aXBlciBsb2FkaW5nIG9ubHkgaWYgc3dpcGVyIGRlbGF5IGRhdGF0aW1lID4gMFxuICB9ICBcbn0gICBcbn0pXG4gICAgICBcbmZ1bmN0aW9uIGFjY29yZGlvbkluaXQoYWNjb3JkaW9uKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbXMgPSBhY2NvcmRpb24ucXVlcnlTZWxlY3RvckFsbChcIi5hY2NvcmRpb25fX2l0ZW1cIik7IFxuICAgICAgY29uc3Qgb3BlbmVkSXRlbSA9IChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5lZF9pdGVtID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoXCIuaXMtb3BlblwiKTsgXG4gICAgICAgIHRvZ2dsZV9pdGVtKGl0ZW0pOyBcbiAgICAgICAgaWYgKG9wZW5lZF9pdGVtICYmIG9wZW5lZF9pdGVtICE9PSBpdGVtKSB7XG4gICAgICAgICAgdG9nZ2xlX2l0ZW0ob3BlbmVkX2l0ZW0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICBcbiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uX190aXRsZS10ZXh0XCIpOyBcbiAgICAgICAgdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICggKSA9PiB7XG4gICAgICAgICAgb3BlbmVkSXRlbShpdGVtKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHsgXG4gICAgICAgICAgaWYgKGV2ZW50LmNvZGU9PT0nRW50ZXInfHxldmVudC5jb2RlPT09J1NwYWNlJyl7IFxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgXG4gICAgICAgICAgICBvcGVuZWRJdGVtKGl0ZW0pO1xuICAgICAgICAgIH0gXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIFxuICAgICAgY29uc3QgdG9nZ2xlX2l0ZW0gPSAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLmFjY29yZGlvbl9fYm9keVwiKTtcbiAgXG4gICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImlzLW9wZW5cIikpIHtcbiAgICAgICAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgIGJvZHkuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0IDEwcyBjdWJpYy1iZXppZXIoMC4yMiwgMC42MSwgMC4zNiwgMSknO1xuICAgICAgICAgIGJvZHkuc3R5bGUubWF4SGVpZ2h0ID0gJzIwMDBweCc7XG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3JkaW9uXCIpKSB7IFxuICAgIGNvbnN0IGFjY29yZGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFjY29yZGlvblwiKTtcbiAgICBhY2NvcmRpb25zLmZvckVhY2goYWNjb3JkaW9uID0+IHtcbiAgICAgIGFjY29yZGlvbkluaXQoYWNjb3JkaW9uKTtcbiAgICB9KTsgXG4gIH1cblxuIFxuXG5cblxuIl19
